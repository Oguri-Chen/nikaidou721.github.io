<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>博客迁移及yun主题魔改</title>
      <link href="/posts/16107/"/>
      <url>/posts/16107/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js"></script><p>从原本的<a href="https://github.com/honjun/hexo-theme-sakura">hexo-sakura</a>主题换成了<a href="https://github.com/YunYouJun/hexo-theme-yun">hexo-yun</a>，主要是sakura主题太太太太太太太太卡了，难受。下为yun主题的魔改(乱搞)之路</p><h2 id="主题修改"><a href="#主题修改" class="headerlink" title="主题修改"></a>主题修改</h2><p>yun主题详情文档<a href="https://yun.yunyoujun.cn/guide/">点击这里</a>，魔改前备个份吧/(ㄒoㄒ)/~~</p><a id="more"></a><h3 id="live2d看板娘加强"><a href="#live2d看板娘加强" class="headerlink" title="live2d看板娘加强"></a>live2d看板娘加强</h3><p>使用项目:<a href="https://github.com/stevenjoezhang/live2d-widget">stevenjoezhang大佬的live2d</a><br>将项目下载到本地，解压为<code>live2d-widget</code>文件夹，放入主题的<code>source</code>里并修改<code>autoload.js</code>的以下两处</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const live2d_path = &quot;/live2d-widget/&quot;;</span><br></pre></td></tr></table></figure><p>cdn最好自己搭建哦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">initWidget(&#123;</span><br><span class="line">    waifuPath: live2d_path + &quot;waifu-tips.json&quot;,</span><br><span class="line">    //apiPath: &quot;https://live2d.fghrsh.net/api/&quot;,</span><br><span class="line">    cdnPath: &quot;自己的cdn&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>然后在主题的_config.yml里将autoload.js添加进去</p><p>sakura主题是Sakura/layout/_partial里的footer.ejs里添加</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/live2d-widget/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其他主题以此类推<br>此项目需要fortawesome5，所以在主题的<code>_config.yml</code>里添加css</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">css:</span><br><span class="line">  - /css/hexo-theme-yun.css</span><br><span class="line">  - fortawesome的cdn，也可以自己添加all.min.styl</span><br></pre></td></tr></table></figure><p>cdn: <code>https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13/css/all.min.css</code><br>以下介绍cdn获取模型的换装方法，与<a href="https://github.com/fghrsh/live2d_api">api换装</a>方法有些许不同</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">│  model_list.json              // 模型列表</span><br><span class="line">│</span><br><span class="line">├─model                         // 模型路径</span><br><span class="line">│  └─GroupName                  // 模组分组</span><br><span class="line">│      └─ModelName              // 模型名称</span><br><span class="line">│</span><br><span class="line">├─add                           // 更新皮肤列表</span><br><span class="line">├─get                           // 获取模型配置</span><br><span class="line">├─rand                          // 随机切换模型</span><br><span class="line">├─rand_textures                 // 随机切换皮肤</span><br><span class="line">├─switch                        // 顺序切换模型</span><br><span class="line">├─switch_textures               // 顺序切换皮肤</span><br><span class="line">└─tools</span><br><span class="line">        modelList.php           // 列出模型列表</span><br><span class="line">        modelTextures.php       // 列出皮肤列表</span><br><span class="line">        name-to-lower.php       // 文件名格式化</span><br></pre></td></tr></table></figure><p>先开始设置换肤吧！用pio做例子<br>在<code>model</code>里多加几个pio和tia</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">│</span><br><span class="line">├─model</span><br><span class="line">│  └─Potion-Maker</span><br><span class="line">│     ├─pio</span><br><span class="line">│     │  │  index.json</span><br><span class="line">│     │  │  model.moc</span><br><span class="line">│     │  │</span><br><span class="line">│     │  ├─motions</span><br><span class="line">│     │  └─textures</span><br><span class="line">│     │</span><br><span class="line">│     ├─pio1</span><br><span class="line">│     │  │  index.json</span><br><span class="line">│     │  │  model.moc</span><br><span class="line">│     │  │</span><br><span class="line">│     │  ├─motions</span><br><span class="line">│     │  └─textures</span><br><span class="line">│     │</span><br><span class="line">│     ├─Tia</span><br><span class="line">│     │  │  index.json</span><br><span class="line">│     │  │  model.moc</span><br><span class="line">│     │  │</span><br><span class="line">│     │  ├─motions</span><br><span class="line">│     │  └─textures</span><br><span class="line">│     └─Tia1</span><br><span class="line">│        │  index.json</span><br><span class="line">│        │  model.moc</span><br><span class="line">│        │</span><br><span class="line">│        ├─motions</span><br><span class="line">│        └─textures</span><br></pre></td></tr></table></figure><p>其中<code>textures</code>是皮肤，我们要修改的是<code>index.json</code><br>先随便改一改<br>pio</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;textures&quot;:[</span><br><span class="line">    &quot;textures/dress-costume.png&quot;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>pio1</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;textures&quot;:[</span><br><span class="line">    &quot;textures/elementary-school-costume-navy.png&quot;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>Tia的按着修改就行<br>然后在<code>model_list.json</code>里修改</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;models&quot;: [</span><br><span class="line">        [</span><br><span class="line">            &quot;Potion-Maker/Pio&quot;,</span><br><span class="line">            &quot;Potion-Maker/Pio1&quot;</span><br><span class="line">        ],</span><br><span class="line">        [</span><br><span class="line">            &quot;Potion-Maker/Tia&quot;,</span><br><span class="line">            &quot;Potion-Maker/Tia1&quot;</span><br><span class="line">        ]</span><br><span class="line">    ],</span><br><span class="line">    &quot;messages&quot;: [</span><br><span class="line">        &quot;来自 Potion Maker 的 Pio 酱 ~&quot;,</span><br><span class="line">        &quot;来自 Potion Maker 的 Tia 酱 ~&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>over！现在就能够给可爱的看板娘换模型换皮肤了~</p><h3 id="Aplayer样式微调"><a href="#Aplayer样式微调" class="headerlink" title="Aplayer样式微调"></a>Aplayer样式微调</h3><p>yun主题，按着文档设置就成，sakura自带就不多说了，主要修改一点小样式<br>在主题的<code>source/css</code>里创建<code>aplayer.styl</code>，代码如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.aplayer .aplayer-body &#123;</span><br><span class="line">    left: -66px !important</span><br><span class="line">&#125;</span><br><span class="line">.aplayer .aplayer-body:hover &#123;</span><br><span class="line">    left: 0px !important</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在主题的<code>_config.yml</code>里添加<code>/css/aplayer.css</code><br>效果如本博客</p><h3 id="Valine评论功能魔改"><a href="#Valine评论功能魔改" class="headerlink" title="Valine评论功能魔改"></a>Valine评论功能魔改</h3><p>将主题的<code>_config.yml</code>里的<code>valine_js</code>后面的路径修改为<br><code>https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</code></p><p>增加评论列表的背景？同Aplayer添加样式一样，加个<code>valine.styl</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#veditor &#123;</span><br><span class="line">    background-image: url(随便搞个图片路径);</span><br><span class="line">    background-size: contain;</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    background-position: right;</span><br><span class="line">    background-color: rgba(255,255,255,0);</span><br><span class="line">    resize: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h3>]]></content>
      
      
      <categories>
          
          <category> 小随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
